<!DOCTYPE html>
<html lang ="en">
<script src="https://code.jquery.com/jquery-1.9.1.js"></script>
<script>
    $(document).ready(
        retreivePost(),
        retrieveUser());
    function retreivePost() {
        var xhr = new XMLHttpRequest();
            xhr.open("POST", "http://localhost:8080/api/get-next-post", true);
            xhr.setRequestHeader('Content-Type', 'application/json');
            xhr.send(JSON.stringify());
        xhr.onreadystatechange = function () {
            if (this.readyState != 4) return;

            if (this.status == 200) {
                var data = JSON.parse(this.responseText);
                for(var i = 0; i < Object.keys(myObject).length; i++) {
                    document.getElementById("js-content").innerHTML+= "<h4>"+data.workout[i].weight+"</h4>";
                }
            }
        }      
    }
    function retrieveUser() {
        var userReq = new XMLHttpRequest();
            userReq.open("POST", "http://localhost:8080/api/get-current-user", true);
            userReq.setRequestHeader('Content-Type', 'application/json');
            userReq.send(JSON.stringify());

        userReq.onreadystatechange = function () {
        if (this.readyState != 4) return;

        if (this.status == 200) {
            var data = JSON.parse(this.responseText);
            for(var i = 0; i < Object.keys(myObject).length; i++) {
                document.getElementById("username").innerHTML = data.name;
            }
        }
    }
    }

</script>
<head>
    <meta charset=UTF-8">
    <title>GYMJAM</title>

    <style>
        .movingbtn{
            position:absolute;
            bottom:0;
        }
    </style>

</head>

<body>


    <h2 id="username">Username</h2>
    <div class= "workout-holder">
        <div class="js-content">
            <!-- content will be loaded here -->
        

        </div>
        <div class="movingbtn">
        <a href="addWorkout.html">
            <button type="button">Move to Workout</button></a>

            <button type="button" onclick="retreivePost()">Next Post</button>

        <a href="profilepage.html">
            <button type="button">Look at profile</button></a>
        </div>


    </div>

</body>

</html>